{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?5ef7","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?0b8a","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?de3c","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?22f4","uni-app:///pages/searchPage/searchPage.vue","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?ebd5","webpack:///D:/code/ErinMusic/erin-music/pages/searchPage/searchPage.vue?e849"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,2G,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AAC8L;AAC9L,gBAAgB,qMAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAA8uB,CAAgB,4uBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyGlwB;;AAEA;;;;AAIA,+C;;;;AAIA;AACA,MADA,kBACA;AACA;AACA,sBADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,uBAJA,EAIA;AACA,sBALA,EAKA;AACA;AACA,mBADA;AAEA,sBAFA;AAGA;AACA,qBADA;AAEA,sBAFA,EAHA;AAMA;AACA,qBADA;AAEA,sBAFA,EANA;AASA;AACA,qBADA;AAEA,sBAFA,EATA;;AAaA;AACA,qBADA;AAEA,sBAFA,EAbA;;AAiBA;AACA,6BADA;AAEA,sBAFA,EAjBA;;AAqBA;AACA,qBADA;AAEA,oBAFA,EArBA;;AAyBA;AACA,oBADA;AAEA,oBAFA,EAzBA;;AA6BA;AACA,mBADA;AAEA,sBAFA,EA7BA,CANA;;;;AAyCA,2BAzCA,CAyCA;AAzCA;AA2CA,GA7CA;AA8CA;AACA,oCADA,EA9CA;;AAiDA,SAjDA,qBAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5DA;;AA8DA;AACA,wDADA,CA9DA;;AAiEA;AACA,qFADA;AAEA;AACA;AACA,+DADA,SACA,GADA;AAEA;AACA;AACA;AACA;AACA,8EADA;AAEA,0EAFA;;AAIA;AACA;AACA,6BADA;AAEA,oCAFA;;AAIA,iBAXA;AAYA,eAbA,MAaA;AACA;AACA,eAjBA,iEAHA;;AAsBA;AACA,gBAvBA,0BAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,IAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,0BADA,IAHA,CAIA;AACA;AACA,SANA,EAMA,IANA;AAOA,OAfA;AAgBA,KAzCA;AA0CA;AACA,oBA3CA,8BA2CA;AACA,iDADA,SACA,GADA;AAEA;AACA;AACA,iBAJA;AAKA,KAhDA;AAiDA,iBAjDA,yBAiDA,EAjDA,EAiDA;AACA;AACA;AACA;AACA,KArDA;AAsDA,UAtDA,oBAsDA;AACA;AACA;AACA,mGADA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA,6EAqBA,CA3EA;AA4EA;AACA,cA7EA,wBA6EA;AACA;AACA;AACA,KAhFA;AAiFA,aAjFA,qBAiFA,EAjFA,EAiFA;AACA;AACA;AACA,KApFA;AAqFA;AACA,cAtFA,wBAsFA;AACA,2CADA,SACA,GADA;AAEA;AACA;AACA,iBAJA;AAKA,KA3FA;AA4FA;AACA,gBA7FA,wBA6FA,EA7FA,EA6FA;AACA;AACA,0BADA,GADA,SACA,GADA;;AAIA;AACA;AACA;AACA;AACA;AACA,mBAJA;AAKA,iBAVA;AAWA,KAxGA,GAjEA,E;;;;;;;;;;;;;ACnHA;AAAA;AAAA;AAAA;AAAq4C,CAAgB,2zCAAG,EAAC,C;;;;;;;;;;;ACAz5C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/searchPage/searchPage.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/searchPage/searchPage.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./searchPage.vue?vue&type=template&id=9c6b5a34&\"\nvar renderjs\nimport script from \"./searchPage.vue?vue&type=script&lang=js&\"\nexport * from \"./searchPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./searchPage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/searchPage/searchPage.vue\"\nexport default component.exports","export * from \"-!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchPage.vue?vue&type=template&id=9c6b5a34&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.searchValue = \"\"\n    }\n\n    _vm.e1 = function($event) {\n      _vm.isMoreShow = !_vm.isMoreShow\n    }\n\n    _vm.e2 = function($event) {\n      _vm.isMoreShow = !_vm.isMoreShow\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchPage.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"search-detail\">\r\n\t\t<view class=\"search-con\">\r\n\t\t\t<image class=\"emoj-icon\" src=\"/static/images/pages/play/emoj-pig.png\" />\r\n\t\t\t<view class=\"search-bar\">\r\n\t\t\t\t<image class=\"search-icon\" src=\"/static/images/pages/found/search.svg\" />\r\n\t\t\t\t<input class=\"search\" @input=\"searchInput\" v-model=\"searchValue\" @confirm=\"search\"\r\n\t\t\t\t\t:placeholder=\"searchSugges\" type=\"text\" @keyup.enter=\"search\" confirm-type=\"search\">\r\n\t\t\t\t<view class=\"search-del\" v-if=\"searchValue\" @click=\"searchValue=''\">\r\n\t\t\t\t\t<image class=\"search-del-icon\" src=\"/static/images/pages/searchDetail/search-del.svg\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<p class=\"search-btn\" @click=\"search\">搜索</p>\r\n\t\t</view>\r\n\t\t<view v-if=\"searchValue\" class=\"search-suggest\">\r\n\t\t\t<view class=\"suggest-item\" @click=\"clickSongName(item)\" v-for=\"(item,index) in searchSuggestList\"\r\n\t\t\t\t:key=\"index\">\r\n\t\t\t\t<image class=\"search-icon\" src=\"/static/images/pages/found/search.svg\"></image>\r\n\t\t\t\t<p class=\"suggest-text\">\r\n\t\t\t\t\t<span class=\"select\">{{item.first}}</span>\r\n\t\t\t\t\t{{item.last}}\r\n\t\t\t\t</p>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 当出现搜索建议的时候该盒子需要隐藏 -->\r\n\t\t<view v-else class=\"search-rele\">\r\n\t\t\t<view class=\"category\">\r\n\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t<p class=\"label\">歌手</p>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t<p class=\"label\">曲风</p>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t<p class=\"label\">专区</p>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"type\">\r\n\t\t\t\t\t<p class=\"label\">识曲</p>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-history\">\r\n\t\t\t\t<view class=\"top\">\r\n\t\t\t\t\t<p class=\"title\">搜索历史</p>\r\n\t\t\t\t\t<image class=\"del-icon\" @click=\"delHistory\" src=\"/static/images/pages/searchDetail/del.svg\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"history-con\">\r\n\t\t\t\t\t<view :class=\"['his-list',{hide:!isMoreShow}]\">\r\n\t\t\t\t\t\t<view v-for=\"(it,i) in searchHisList\" :key=\"i\">\r\n\t\t\t\t\t\t\t<p class=\"item his-item\" @click=\"onHisItem(it)\" v-if=\"it\">{{it}}</p>\r\n\t\t\t\t\t\t\t<image v-if=\"!it && !isMoreShow\" @click=\"isMoreShow=!isMoreShow\" class=\"arrow-icon down\"\r\n\t\t\t\t\t\t\t\tsrc=\"/static/images/pages/searchDetail/arrow-bottom.svg\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image v-if=\"isMoreShow\" @click=\"isMoreShow=!isMoreShow\" :class=\"['arrow-icon',{up:isMoreShow}]\"\r\n\t\t\t\t\t\t\tsrc=\"/static/images/pages/searchDetail/arrow-bottom.svg\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"leaderboard\">\r\n\t\t\t\t<swiper class=\"swiper-list\" duration=\"1000\" previous-margin=\"20rpx\"\r\n\t\t\t\t\t:next-margin=\"boardList.length*20+20+'rpx'\" acceleration>\r\n\t\t\t\t\t<!-- 热搜榜 -->\r\n\t\t\t\t\t<swiper-item class=\"board-item\">\r\n\t\t\t\t\t\t<view class=\"board-container\">\r\n\t\t\t\t\t\t\t<view class=\"top-con\">\r\n\t\t\t\t\t\t\t\t<p class=\"title\">热搜榜</p>\r\n\t\t\t\t\t\t\t\t<view class=\"play-auto\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"play-icon\" src=\"/static/images/pages/found/play.png\"></image>\r\n\t\t\t\t\t\t\t\t\t<p class=\"play\">播放</p>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cont-list\" v-for=\"(it,i) in hotBoardList\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<p :class=\"['num',{'forward':i<3}]\">{{i+1}}</p>\r\n\t\t\t\t\t\t\t\t<p :class=\"['content',{'forward':i<3}]\">{{it.searchWord}}</p>\r\n\t\t\t\t\t\t\t\t<image class=\"type-icon\" :src=\"it.iconUrl\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item class=\"board-item\" v-for=\"(item,index) in boardList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"board-container\">\r\n\t\t\t\t\t\t\t<view class=\"top-con\">\r\n\t\t\t\t\t\t\t\t<p class=\"title\">{{item.name}}</p>\r\n\t\t\t\t\t\t\t\t<view class=\"play-auto\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"play-icon\" src=\"/static/images/pages/found/play.png\"></image>\r\n\t\t\t\t\t\t\t\t\t<p class=\"play\">播放</p>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"cont-list\" v-for=\"(it,i) in item.list\" :key=\"i\">\r\n\t\t\t\t\t\t\t\t<p :class=\"['num',{'forward':i<3}]\">{{i+1}}</p>\r\n\t\t\t\t\t\t\t\t<p :class=\"['content',{'forward':i<3}]\">{{it.name}}</p>\r\n\t\t\t\t\t\t\t\t<!-- <image class=\"type-icon\" :src=\"it.al.picUrl\"></image> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view class=\"block\">\r\n\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $httpSearch from '@/api/search.js';\r\n\timport circleProgreBar from '@/components/circleProgreBar.vue';\r\n\timport {\r\n\t\tdebounce\r\n\t} from '@/utils/timeDelay.js';\r\n\t// import $httpHome from '@/api/home.js';\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from 'vuex';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchSugges: \"\",\r\n\t\t\t\tsearchValue: \"\",\r\n\t\t\t\tsearchHisList: [],\r\n\t\t\t\tisMoreShow: false, // 是否展开更多搜索记录\r\n\t\t\t\thotBoardList: [], // 热搜榜\r\n\t\t\t\tboardList: [{\r\n\t\t\t\t\t\tname: '民谣榜',\r\n\t\t\t\t\t\tid: 5059661515,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: '听歌识曲榜',\r\n\t\t\t\t\t\tid: 6688069460,\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: '中文DJ榜',\r\n\t\t\t\t\t\tid: 6886768100\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tname: '网络热歌榜',\r\n\t\t\t\t\t\tid: 6723173524\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"潜力爆款榜\",\r\n\t\t\t\t\t\tid: 5338990334\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"ACG VOCALOID榜\",\r\n\t\t\t\t\t\tid: 3001890046\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"KTV唛榜\",\r\n\t\t\t\t\t\tid: 21845217\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"ACG榜\",\r\n\t\t\t\t\t\tid: 71385702\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: \"电音榜\",\r\n\t\t\t\t\t\tid: 1978921795\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\r\n\t\t\t\tsearchSuggestList: [], // 搜索建议数据\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tcircleProgreBar\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getSearchDefault();\r\n\t\t\t// 当有搜索历史盒子展示的时候才开始计算\r\n\t\t\tif (!this.searchValue) {\r\n\t\t\t\tthis.setExpandBtn();\r\n\t\t\t}\r\n\t\t\tthis.getHotList();\r\n\t\t\t// 获取所有榜单信息\r\n\t\t\tfor (let i = 0; i < this.boardList.length; i++) {\r\n\t\t\t\tthis.getBoardList(this.boardList[i].id);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState(\"searchDetail\", [\"searchHistory\"])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(\"searchDetail\", [\"setSearchHistory\", \"clearSearchHistory\"]),\r\n\t\t\t// 获取搜索建议\r\n\t\t\tsearchInput: debounce(async function() {\r\n\t\t\t\tlet res = await $httpSearch.searchSuggest(this.searchValue);\r\n\t\t\t\tif (res && res.code == 200 && res.result.allMatch) {\r\n\t\t\t\t\tthis.searchSuggestList = res.result.allMatch.map(it => {\r\n\t\t\t\t\t\tif (it.keyword.indexOf(this.searchValue) != -1) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tfirst: it.keyword.substring(0, this.searchValue.length),\r\n\t\t\t\t\t\t\t\tlast: it.keyword.substring(this.searchValue.length)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tfirst: \"\",\r\n\t\t\t\t\t\t\tlast: it.keyword\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.searchSuggestList = [];\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\t// 动态设置搜索结果展开按钮的位置\r\n\t\t\tsetExpandBtn() {\r\n\t\t\t\tthis.searchHisList = this.searchHistory;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// 获取父盒子的实际宽度\r\n\t\t\t\t\tlet fathWidth = 0;\r\n\t\t\t\t\twx.createSelectorQuery().in(this).select('.his-list').boundingClientRect(rect => {\r\n\t\t\t\t\t\tfathWidth = parseInt(rect.width);\r\n\t\t\t\t\t}).exec();\r\n\r\n\t\t\t\t\t// 获取每一个p标签的实际宽度\r\n\t\t\t\t\twx.createSelectorQuery().in(this).selectAll('.his-item').boundingClientRect(rect => {\r\n\t\t\t\t\t\tlet num = 0;\r\n\t\t\t\t\t\t// 判断第一行的p标签宽度是否会超出父盒子的宽度  (因为每个p标签有10像素的间距，所以要加上10)\r\n\t\t\t\t\t\tlet index = rect.findIndex(it => (num += parseInt(it.width + 10)) >\r\n\t\t\t\t\t\t\tfathWidth - 50) // 60是图片的宽度，还要多余一点，样式比较好看\r\n\t\t\t\t\t\tthis.searchHistory.splice(index + 0, 0, \"\");\r\n\t\t\t\t\t}).exec();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取默认搜索关键词\r\n\t\t\tasync getSearchDefault() {\r\n\t\t\t\tlet res = await $httpSearch.searchDefault();\r\n\t\t\t\tif (res && res.code == 200) {\r\n\t\t\t\t\tthis.searchSugges = '我建议你搜索 ' + res.data.showKeyword;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclickSongName(it) {\r\n\t\t\t\tthis.searchValue = it.first + it.last;\r\n\t\t\t\tthis.searchInput();\r\n\t\t\t\tthis.search();\r\n\t\t\t},\r\n\t\t\tasync search() {\r\n\t\t\t\tconsole.log(this.searchValue, '9999');\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/searchResult/searchResult?search=${this.searchValue.trim()}`,\r\n\r\n\t\t\t\t})\r\n\t\t\t\t// if (this.searchValue.trim()) {\r\n\t\t\t\t// \tlet res = await $httpSearch.search({\r\n\t\t\t\t// \t\tkeywords: this.searchValue.trim(),\r\n\t\t\t\t// \t\ttype: 1\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tconsole.log('res', res)\r\n\t\t\t\t// \t// 保存搜索历史  // 先去重\r\n\t\t\t\t// \tlet arr = this.searchHistory.filter(it => it != this.searchValue).filter(val => val);\r\n\t\t\t\t// \tarr.unshift(this.searchValue);\r\n\t\t\t\t// \tthis.setSearchHistory(arr.slice(0, 10)); // 只保留前十个记录\r\n\t\t\t\t// \tif (!this.searchValue) {\r\n\t\t\t\t// \t\tthis.setExpandBtn();\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tif (res && res.code == 200) {}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\t// 清空搜索记录\r\n\t\t\tdelHistory() {\r\n\t\t\t\tthis.searchHisList = [];\r\n\t\t\t\tthis.clearSearchHistory();\r\n\t\t\t},\r\n\t\t\tonHisItem(it) {\r\n\t\t\t\tthis.searchValue = it;\r\n\t\t\t\tthis.search();\r\n\t\t\t},\r\n\t\t\t// 获取热搜榜列表\r\n\t\t\tasync getHotList() {\r\n\t\t\t\tlet res = await $httpSearch.hotList();\r\n\t\t\t\tif (res && res.code == 200) {\r\n\t\t\t\t\tthis.hotBoardList = res.data;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取榜单列表\r\n\t\t\tasync getBoardList(id) {\r\n\t\t\t\tlet res = await $httpSearch.boardSongs({\r\n\t\t\t\t\tid\r\n\t\t\t\t});\r\n\t\t\t\tif (res && res.code == 200) {\r\n\t\t\t\t\tthis.boardList.forEach(it => {\r\n\t\t\t\t\t\tif (it.id == id) {\r\n\t\t\t\t\t\t\tthis.$set(it, 'list', res.songs);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.search-detail {\r\n\t\tbackground: #1b1b25;\r\n\t\tmin-height: 100vh;\r\n\r\n\t\t.search-con {\r\n\t\t\theight: 80rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.emoj-icon {\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.search-bar {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground: #323137;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t.search-icon {\r\n\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.search {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\tmargin-left: 10rpx;\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #fbfbfb;\r\n\t\t\t\t\tcaret-color: #a2a2a3\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.search-del {\r\n\t\t\t\t\twidth: 50rpx;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin: 0 -10rpx 0 10rpx;\r\n\r\n\t\t\t\t\t.search-del-icon {\r\n\t\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.search-btn {\r\n\t\t\t\twidth: 50rpx;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.category {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.type {\r\n\t\t\t\twidth: 20%;\r\n\t\t\t\ttext-align: center;\r\n\r\n\t\t\t\t.label {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #bbbbbe;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.search-history {\r\n\t\t\tpadding: 20rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.top {\r\n\t\t\t\theight: 50rpx;\r\n\t\t\t\t// background-color: pink;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\r\n\t\t\t\t.title {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #f4f4f4;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.del-icon {\r\n\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.history-con {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t// background-color: skyblue;\r\n\r\n\t\t\t\t.his-list {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\twidth: 94%;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t// background-color: pink;\r\n\r\n\t\t\t\t\t&.hide {\r\n\t\t\t\t\t\theight: 50rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.item {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tline-height: 30rpx;\r\n\t\t\t\t\t\tcolor: #d6d6d7;\r\n\t\t\t\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\t\t\t\tbackground: #32323a;\r\n\t\t\t\t\t\tborder-radius: 50rpx;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t\tmargin-bottom: 20rpx;\r\n\t\t\t\t\t\tmax-width: 300rpx;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.arrow-icon {\r\n\t\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\t\tpadding: 14rpx;\r\n\t\t\t\t\t\tbackground: #32323a;\r\n\t\t\t\t\t\tborder-radius: 100%;\r\n\t\t\t\t\t\ttransition: .5s;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\t\t\t\t&.up {\r\n\t\t\t\t\t\t\ttransform: rotate(180deg);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t&.down {\r\n\t\t\t\t\t\t\tmargin-right: 50rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.leaderboard {\r\n\t\t\theight: 100%;\r\n\r\n\t\t\t.swiper-list {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 1286rpx;\r\n\t\t\t\tmargin-right: 20rpx;\r\n\r\n\t\t\t\t.board-item {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tpadding-right: 20rpx;\r\n\r\n\t\t\t\t\t.board-container {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\t\tbackground-color: #32323a;\r\n\t\t\t\t\t\tpadding: 20rpx;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\t\t.top-con {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t// height: 100rpx;\r\n\t\t\t\t\t\t\tpadding-bottom: 20rpx;\r\n\t\t\t\t\t\t\tborder-bottom: 1rpx solid #414149;\r\n\r\n\t\t\t\t\t\t\t.title {\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tcolor: #f2f3f5;\r\n\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.play-auto {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t\tpadding: 4rpx 14rpx;\r\n\t\t\t\t\t\t\t\tborder: 1rpx solid #3f3f47;\r\n\t\t\t\t\t\t\t\tbackground-color: #3d3d47;\r\n\t\t\t\t\t\t\t\tborder-radius: 50rpx;\r\n\r\n\t\t\t\t\t\t\t\t.play-icon {\r\n\t\t\t\t\t\t\t\t\twidth: 14rpx;\r\n\t\t\t\t\t\t\t\t\theight: 14rpx;\r\n\t\t\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t.play {\r\n\t\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\t\tcolor: #d2d2dc;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.cont-list {\r\n\t\t\t\t\t\t\theight: 60rpx;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t\t.num {\r\n\t\t\t\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\tcolor: #aeafb3;\r\n\t\t\t\t\t\t\t\tmargin-right: 30rpx;\r\n\r\n\t\t\t\t\t\t\t\t&.forward {\r\n\t\t\t\t\t\t\t\t\tcolor: #f94942;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.content {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #f4f5f9;\r\n\r\n\t\t\t\t\t\t\t\t&.forward {\r\n\t\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.type-icon {\r\n\t\t\t\t\t\t\t\twidth: 46rpx;\r\n\t\t\t\t\t\t\t\theight: 26rpx;\r\n\t\t\t\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.search-suggest {\r\n\t\t\twidth: 100%;\r\n\t\t\tpadding-left: 20rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.suggest-item {\r\n\t\t\t\theight: 70rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.search-icon {\r\n\t\t\t\t\twidth: 30rpx;\r\n\t\t\t\t\theight: 30rpx;\r\n\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.suggest-text {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tline-height: 70rpx;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #f0f1f5;\r\n\t\t\t\t\tborder-bottom: 1rpx solid #2e2e38;\r\n\r\n\t\t\t\t\t.select {\r\n\t\t\t\t\t\tcolor: #64646e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.block {\r\n\t\t\theight: 200rpx;\r\n\t\t}\r\n\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchPage.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./searchPage.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1686496784565\n      var cssReload = require(\"D:/LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}